// Level 2: "The Underground" - Rooftops + Lair Descent
const LEVEL2_DATA = {
    name: 'The Underground',
    width: 130,
    height: 17,
    tileWidth: TILE_SIZE,
    tileHeight: TILE_SIZE,
    background: 'bg_city_far',
    backgroundMid: 'bg_underground',
    tileTexture: 'ground_underground',
    platformTexture: 'platform_underground',
    wallTexture: 'wall_underground',
    music: 'music_level2',

    tiles: [
        // Row 0
        [3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],
        // Row 1
        [3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
        // Row 2 - high platforms (rooftops)
        [3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
        // Row 3
        [3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
        // Row 4
        [3,0,0,0,0,0,2,2,2,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,2,2,0,0,0,0,0,3],
        // Row 5
        [3,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
        // Row 6
        [3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
        // Row 7
        [3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
        // Row 8
        [3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,0,0,0,0,0,0,0,2,2,0,0,3],
        // Row 9
        [3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
        // Row 10
        [3,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
        // Row 11
        [3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,2,2,0,0,0,0,0,3],
        // Row 12
        [3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
        // Row 13
        [3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3],
        // Row 14 - ground (tiles adjacent to pits changed from 1->2 so player can jump out)
        [1,1,1,1,1,1,1,1,1,1,2,2,0,0,0,2,2,1,1,1,2,2,0,0,0,2,2,1,1,1,1,1,1,2,2,0,0,0,2,2,1,1,1,1,2,2,0,0,0,2,2,1,1,1,2,2,0,0,0,2,2,1,1,1,1,1,1,2,2,0,0,0,2,2,1,1,1,2,2,0,0,0,2,2,1,1,1,1,1,2,2,0,0,0,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
        // Row 15 (pit walls removed - air around hazards so player can jump out)
        [1,1,1,1,1,1,1,1,1,1,0,0,4,4,4,0,0,1,1,1,0,0,4,4,4,0,0,1,1,1,1,1,1,0,0,4,4,4,0,0,1,1,1,1,0,0,4,4,4,0,0,1,1,1,0,0,4,4,4,0,0,1,1,1,1,1,1,0,0,4,4,4,0,0,1,1,1,0,0,4,4,4,0,0,1,1,1,1,1,0,0,4,4,4,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
        // Row 16 (pit walls removed)
        [1,1,1,1,1,1,1,1,1,1,0,0,4,4,4,0,0,1,1,1,0,0,4,4,4,0,0,1,1,1,1,1,1,0,0,4,4,4,0,0,1,1,1,1,0,0,4,4,4,0,0,1,1,1,0,0,4,4,4,0,0,1,1,1,1,1,1,0,0,4,4,4,0,0,1,1,1,0,0,4,4,4,0,0,1,1,1,1,1,0,0,4,4,4,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
    ],

    playerSpawn: { x: 80, y: 280 },

    checkpoints: [
        { x: 800, y: 400 },
        { x: 1600, y: 400 },
        { x: 2800, y: 400 },
    ],

    enemies: [
        { type: 'grunt', x: 300, y: 400, patrolMin: 250, patrolMax: 500 },
        { type: 'grunt', x: 600, y: 400, patrolMin: 520, patrolMax: 750 },
        { type: 'wall', x: 900, y: 400, patrolMin: 850, patrolMax: 1100 },
        { type: 'grunt', x: 1100, y: 400, patrolMin: 1050, patrolMax: 1300 },
        { type: 'grunt', x: 1400, y: 400, patrolMin: 1350, patrolMax: 1550 },
        { type: 'wall', x: 1700, y: 400, patrolMin: 1600, patrolMax: 1900 },
        { type: 'grunt', x: 2000, y: 400, patrolMin: 1950, patrolMax: 2200 },
        { type: 'grunt', x: 2400, y: 400, patrolMin: 2310, patrolMax: 2500 },
        { type: 'wall', x: 2720, y: 400, patrolMin: 2630, patrolMax: 2900 },
        { type: 'grunt', x: 2900, y: 400, patrolMin: 2850, patrolMax: 3100 },
    ],

    collectibles: [
        { type: 'health', x: 250, y: 380 },
        { type: 'tuning', x: 450, y: 100 },
        { type: 'memory', x: 700, y: 200 },
        { type: 'health', x: 950, y: 380 },
        { type: 'tuning', x: 1150, y: 100 },
        { type: 'memory', x: 1350, y: 220 },
        { type: 'health', x: 1550, y: 380 },
        { type: 'tuning', x: 1800, y: 150 },
        { type: 'memory', x: 2050, y: 180 },
        { type: 'health', x: 2250, y: 380 },
        { type: 'tuning', x: 2500, y: 120 },
        { type: 'memory', x: 2750, y: 200 },
        { type: 'health', x: 3000, y: 380 },
    ],

    // Crates (pushable with tuning)
    crates: [
        { x: 320, y: 420 },
        { x: 1280, y: 420 },
        { x: 1700, y: 420 },
        { x: 2400, y: 420 },
    ],

    midnightTriggers: [1200, 2500],

    shiftablePlatforms: [
        { x: 1280, y: 256, newX: 1280, newY: 160 },
        { x: 2560, y: 256, newX: 2592, newY: 320 },
    ],

    bossTriggerX: 3500,
    bossSpawn: { x: 3800, y: 380 },
    bossArena: { left: 3340, right: 4300, top: 0, bottom: 544 },
    exit: { x: 4050, y: 400 },
};
